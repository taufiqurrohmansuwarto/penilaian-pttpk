generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model acc_kinerja_bulanan {
  id           Int        @id @default(autoincrement())
  id_penilaian Int?
  bulan        Int?       @db.SmallInt
  tahun        Int?       @db.SmallInt
  sudah_verif  Boolean?   @default(false)
  diverif_oleh Int?
  id_ptt       Int?
  created_at   DateTime?  @default(now()) @db.Timestamp(6)
  updated_at   DateTime?  @db.Timestamp(6)
  penilaian    penilaian? @relation(fields: [id_penilaian], references: [id], onDelete: Cascade)
}

model kinerja_bulanan {
  id                  Int               @id @default(autoincrement())
  id_penilaian        Int?
  id_target_penilaian Int?
  title               String?
  bulan               Int?              @db.SmallInt
  tahun               Int?              @db.SmallInt
  id_ptt              Int?
  kuantitas           Int?
  kualitas            Int?              @default(0)
  start               DateTime?         @db.Timestamp(6)
  end                 DateTime?         @db.Timestamp(6)
  created_at          DateTime?         @default(now()) @db.Timestamp(6)
  updated_at          DateTime?         @db.Timestamp(6)
  penilaian           penilaian?        @relation(fields: [id_penilaian], references: [id], onDelete: Cascade)
  target_penilaian    target_penilaian? @relation(fields: [id_target_penilaian], references: [id], onDelete: Cascade)
}

model penilaian {
  id                  Int                   @id @default(autoincrement())
  id_ptt              Int?
  tahun               Int?                  @db.SmallInt
  id_skpd             String?               @db.VarChar(200)
  id_jabatan          String?               @db.VarChar(200)
  aktif               Boolean?              @default(false)
  sudah_verif         Boolean?              @default(false)
  diverif_oleh        String?               @db.VarChar(200)
  nip_atasan_langsung String?               @db.VarChar(200)
  nip_atasan_banding  String?               @db.VarChar(200)
  nip_eselon_ii       String?               @db.VarChar(200)
  created_at          DateTime?             @default(now()) @db.Timestamp(6)
  updated_at          DateTime?             @db.Timestamp(6)
  pekerjaan_tambahan  String[]
  acc_kinerja_bulanan acc_kinerja_bulanan[]
  kinerja_bulanan     kinerja_bulanan[]
  target_penilaian    target_penilaian[]
}

model ref_satuan_kinerja {
  id               Int                @id @default(autoincrement())
  nama             String?            @db.VarChar(200)
  created_at       DateTime?          @default(now()) @db.Timestamp(6)
  updated_at       DateTime?          @db.Timestamp(6)
  target_penilaian target_penilaian[]
}

model target_penilaian {
  id                    Int                 @id @default(autoincrement())
  pekerjaan             String?
  ref_satuan_kinerja_id Int?
  kuantitas             Int?
  id_penilaian          Int?
  created_at            DateTime?           @default(now()) @db.Timestamp(6)
  updated_at            DateTime?           @db.Timestamp(6)
  id_ptt                Int?
  penilaian             penilaian?          @relation(fields: [id_penilaian], references: [id], onDelete: Cascade)
  ref_satuan_kinerja    ref_satuan_kinerja? @relation(fields: [ref_satuan_kinerja_id], references: [id], onDelete: Cascade)
  kinerja_bulanan       kinerja_bulanan[]
}

model comments {
  id             Int             @id @default(autoincrement())
  nama           String?
  department     String?
  status         String?
  usia           String?
  comment        String?
  user_custom_id String?
  comments_tags  comments_tags[]
  likes          Int             @default(0)
  parent_id      Int
  created_at    DateTime?       @default(now()) @db.Timestamp(6)
  updated_at    DateTime?       @db.Timestamp(6)
}

model tags {
  id            Int             @id @default(autoincrement())
  name          String?
  created_at    DateTime?       @default(now()) @db.Timestamp(6)
  updated_at    DateTime?       @db.Timestamp(6)
  comments_tags comments_tags[]
}

model comments_tags {
  comment_id Int
  tag_id     Int
  comments   comments? @relation(fields: [comment_id], references: [id], onDelete: Cascade)
  tags       tags?     @relation(fields: [tag_id], references: [id], onDelete: Cascade)

  @@id([comment_id, tag_id])
}
